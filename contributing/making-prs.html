
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Creating and sending patches Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="code-reviews.html" />
    
    
    <link rel="prev" href="css.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../getting-started/">
            
                <a href="../getting-started/">
            
                    
                    Getting started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../getting-started/where-is-the-code.html">
            
                <a href="../getting-started/where-is-the-code.html">
            
                    
                    Where is the code?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../getting-started/architecture-overview.html">
            
                <a href="../getting-started/architecture-overview.html">
            
                    
                    Architecture overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../getting-started/build.html">
            
                <a href="../getting-started/build.html">
            
                    
                    Set up to build DevTools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../getting-started/development-profiles.html">
            
                <a href="../getting-started/development-profiles.html">
            
                    
                    Development profiles
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../contributing.html">
            
                <a href="../contributing.html">
            
                    
                    Contributing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="coding-standards.html">
            
                <a href="coding-standards.html">
            
                    
                    Coding standards
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="javascript.html">
            
                <a href="javascript.html">
            
                    
                    JavaScript
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1.1" data-path="eslint.html">
            
                <a href="eslint.html">
            
                    
                    ESLint
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="css.html">
            
                <a href="css.html">
            
                    
                    CSS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.3.2" data-path="making-prs.html">
            
                <a href="making-prs.html">
            
                    
                    Creating and sending patches
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="code-reviews.html">
            
                <a href="code-reviews.html">
            
                    
                    Code reviews
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="filing-good-bugs.html">
            
                <a href="filing-good-bugs.html">
            
                    
                    Filing good bugs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="performance.html">
            
                <a href="performance.html">
            
                    
                    Investigating performance issues
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../tests/">
            
                <a href="../tests/">
            
                    
                    Automated tests
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" >
            
                <span>
            
                    
                    Running tests
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../tests/xpcshell.html">
            
                <a href="../tests/xpcshell.html">
            
                    
                    xpcshell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="../tests/mochitest-chrome.html">
            
                <a href="../tests/mochitest-chrome.html">
            
                    
                    Chrome mochitests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="../tests/mochitest-devtools.html">
            
                <a href="../tests/mochitest-devtools.html">
            
                    
                    DevTools mochitests
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../tests/writing-tests.html">
            
                <a href="../tests/writing-tests.html">
            
                    
                    Writing tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../tests/debugging-intermittents.html">
            
                <a href="../tests/debugging-intermittents.html">
            
                    
                    Debugging intermittent failures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../tests/performance-tests.html">
            
                <a href="../tests/performance-tests.html">
            
                    
                    Performance tests (DAMP)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.4.1" data-path="../tests/writing-perf-tests.html">
            
                <a href="../tests/writing-perf-tests.html">
            
                    
                    Writing a new test
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../bugs-issues.html">
            
                <a href="../bugs-issues.html">
            
                    
                    Bugs and issue trackers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../files/">
            
                <a href="../files/">
            
                    
                    Files and directories
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../files/adding-files.html">
            
                <a href="../files/adding-files.html">
            
                    
                    Adding New Files
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../tools/tools.html">
            
                <a href="../tools/tools.html">
            
                    
                    Tool Architectures
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../tools/inspector.html">
            
                <a href="../tools/inspector.html">
            
                    
                    Inspector
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1.1" data-path="../tools/inspector-panel.html">
            
                <a href="../tools/inspector-panel.html">
            
                    
                    Panel Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.1.2" data-path="../tools/highlighters.html">
            
                <a href="../tools/highlighters.html">
            
                    
                    Highlighters
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../tools/memory-panel.html">
            
                <a href="../tools/memory-panel.html">
            
                    
                    Memory
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../tools/debugger-panel.html">
            
                <a href="../tools/debugger-panel.html">
            
                    
                    Debugger
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../tools/responsive-design-mode.html">
            
                <a href="../tools/responsive-design-mode.html">
            
                    
                    Responsive Design Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../tools/http-inspector.html">
            
                <a href="../tools/http-inspector.html">
            
                    
                    HTTP Inspector
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../tools/console-panel.html">
            
                <a href="../tools/console-panel.html">
            
                    
                    Console
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../frontend/frontend.html">
            
                <a href="../frontend/frontend.html">
            
                    
                    Frontend
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../frontend/svgs.html">
            
                <a href="../frontend/svgs.html">
            
                    
                    Panel SVGs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../frontend/react.html">
            
                <a href="../frontend/react.html">
            
                    
                    React
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.2.1" data-path="../frontend/react-guidelines.html">
            
                <a href="../frontend/react-guidelines.html">
            
                    
                    Guidelines
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../frontend/redux.html">
            
                <a href="../frontend/redux.html">
            
                    
                    Redux
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.3.1" data-path="../frontend/redux-guidelines.html">
            
                <a href="../frontend/redux-guidelines.html">
            
                    
                    Guidelines
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../frontend/telemetry.html">
            
                <a href="../frontend/telemetry.html">
            
                    
                    Telemetry
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../backend/backend.html">
            
                <a href="../backend/backend.html">
            
                    
                    Backend
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../backend/protocol.html">
            
                <a href="../backend/protocol.html">
            
                    
                    Remote Debugging Protocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../backend/client-api.html">
            
                <a href="../backend/client-api.html">
            
                    
                    Client API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../backend/debugger-api.html">
            
                <a href="../backend/debugger-api.html">
            
                    
                    Debugger API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../backend/backward-compatibility.html">
            
                <a href="../backend/backward-compatibility.html">
            
                    
                    Backward Compatibility
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" >
            
                <span>
            
                    
                    Actors
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.5.1" data-path="../backend/actor-hierarchy.html">
            
                <a href="../backend/actor-hierarchy.html">
            
                    
                    Actors Organization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5.2" data-path="../backend/actor-e10s-handling.html">
            
                <a href="../backend/actor-e10s-handling.html">
            
                    
                    Handling Multi-Processes in Actors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5.3" data-path="../backend/protocol.js.html">
            
                <a href="../backend/protocol.js.html">
            
                    
                    Writing Actors With protocol.js
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5.4" data-path="../backend/actor-registration.html">
            
                <a href="../backend/actor-registration.html">
            
                    
                    Registering A New Actor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5.5" data-path="../backend/actor-best-practices.html">
            
                <a href="../backend/actor-best-practices.html">
            
                    
                    Actor Best Practices
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../preferences.html">
            
                <a href="../preferences.html">
            
                    
                    Preferences
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Creating and sending patches</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="creating-and-sending-patches-">Creating and sending patches <!--TODO: (in the future: Making Pull Requests)--></h1>
<!-- TODO: this will need to be updated in the future when we move to GitHub -->
<h2 id="creating-a-patch">Creating a patch</h2>
<p>To create a patch you need to first commit your changes and then export them to a patch file.</p>
<p>With Mercurial:</p>
<ul>
<li><code>hg commit -m &apos;your commit message&apos;</code></li>
<li><code>hg export &gt; /path/to/your/patch</code></li>
</ul>
<p>With Git, the process is similar, but you first need to add an alias to create Mercurial-style patches. Have a look at <a href="https://developer.mozilla.org/en-US/docs/Tools/Contributing#Creating_a_patch_to_check_in" target="_blank">the detailed documentation</a>.</p>
<h2 id="commit-messages">Commit messages</h2>
<p>Commit messages should follow the pattern <code>Bug 1234567 - change description. r=reviewer</code></p>
<p>First is the bug number related to the patch. Then the description should explain what the patch changes. The last part is used to keep track of the reviewer for the patch.</p>
<h2 id="submitting-a-patch">Submitting a patch</h2>
<p>Once you have a patch file, add it as an attachment to the Bugzilla ticket you are working on and add the <code>feedback?</code> or <code>review?</code> flag depending on if you just want feedback and confirmation you&apos;re doing the right thing or if you think the patch is ready to land respectively. Read more about <a href="https://developer.mozilla.org/en-US/docs/Developer_Guide/How_to_Submit_a_Patch" target="_blank">how to submit a patch and the Bugzilla review cycle here</a>.</p>
<p>You can also take a look at the <a href="code-reviews.html">Code Review Checklist</a> as it contains a list of checks that your reviewer is likely to go over when reviewing your code.</p>
<h2 id="squashing-commits">Squashing commits</h2>
<p>Sometimes you may be asked to squash your commits. Squashing means merging multiple commits into one in case you created multiple commits while working on a bug. Squashing bugs is easy with steps listed below for both git and mercurial.</p>
<h3 id="with-mercurial">With Mercurial:</h3>
<p>We will use the histedit extension for squashing commits in Mercurial. You can check if this extension is enabled in your Mercurial following these steps:</p>
<ul>
<li>Open <code>.hgrc</code> (default configuration file of mercurial) located in the home directory on Linux/OSX, using your favourite editor.</li>
<li>Then add <code>histedit=</code> under the <code>[extensions]</code> list present in file, if not present already.</li>
</ul>
<p>Then, run the following command:</p>
<p><code>hg histedit</code></p>
<p>You will see something like this on your terminal:</p>
<pre><code>pick 3bd22d1cc59a 0 &quot;First-Commit-Message&quot;
pick 81c4d40e57d3 1 &quot;Second-Commit-Message&quot;
</code></pre><p>These lines represent your commits. Suppose we want to merge 81c4d40e57d3 to 3bd22d1cc59a. Then replace <strong>pick</strong> in front of 81c4d40e57d3 with <strong>fold</strong> (or simply &apos;f&apos;). Save the changes.</p>
<p>You will see that 81c4d40e57d3 has been combined with 3bd22d1cc59a. You can verify this using <code>hg log</code> command.</p>
<p>You can use fold to as many commits you want and they will be combined with the first commit above them which does not use fold.</p>
<h3 id="with-git">With Git:</h3>
<p>To squash commits in git we will use the rebase command. Let&apos;s learn the syntax using an example:</p>
<p><code>git rebase -i HEAD~2</code></p>
<p>Above commands is for rebasing commits.</p>
<ul>
<li>The -i flag is to run rebase in interactive mode.</li>
<li>HEAD~2 is to rebase the last two commits.</li>
</ul>
<p>You can use any number, depending on how many commits you want to rebase. </p>
<p>After you run that command, an editor will open displaying contents similar to this:</p>
<pre><code>pick 5878025 &quot;First-Commit-Message&quot;
pick bd1efe7 &quot;Second-Commit-Message&quot;
</code></pre><p>Suppose you want to merge <code>bd1efe7</code> to <code>5878025</code>, then replace <strong>pick</strong> with <strong>squash</strong> (or simply &apos;s&apos;) and save the changes and close the editor, then a file should open like this:</p>
<pre><code>    # This is a combination of 2 commits.
    # The first commit&apos;s message is:

    &lt; First-Commit-Message &gt;

    This is the 2nd commit message:

    &lt; Second-Commit-Message &gt;
</code></pre><p>Write a new commit message (note that this will be a new commit message used for squashed commits). Every line not starting with # above contributes to the commit message.</p>
<p>Save your changes and you are done. You will see that your commits have been squashed and you can verify this using <code>git log</code> or <code>git reflog</code>.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="css.html" class="navigation navigation-prev " aria-label="Previous page: CSS">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="code-reviews.html" class="navigation navigation-next " aria-label="Next page: Code reviews">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Creating and sending patches","level":"1.3.2","depth":2,"next":{"title":"Code reviews","level":"1.3.3","depth":2,"path":"contributing/code-reviews.md","ref":"./contributing/code-reviews.md","articles":[]},"previous":{"title":"CSS","level":"1.3.1.2","depth":3,"path":"contributing/css.md","ref":"./contributing/css.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"contributing/making-prs.md","mtime":"2018-02-27T19:11:26.581Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-02-27T19:12:45.028Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

